var wui={};wui.controls={},wui.controls.control=function(){"use strict";var a=0;return function(b){var c,d,e,f,g,h,i,j,k,l,m=a,n=b||"div",o=document.createElement(n);return a+=1,c=function(){o.style.display="block"},d=function(){o.style.display="none"},e=function(){"none"===o.style.display?c():d()},f=function(){return m},j=function(a){"object"==typeof document.ontouchstart?o.ontouchstart=function(b){b.cancelBubble=!0,b.stopPropagation(),a()}:o.onclick=function(b){b.cancelBubble=!0,b.stopPropagation(),a()}},k=function(){var a=document.createEvent("MouseEvents");"object"==typeof document.ontouchstart?a.initEvent("touchstart",!0,!0):a.initEvent("click",!0,!0),o.dispatchEvent(a)},l=function(){var a,b,c,d,e,f=[];return a=function(){var a,b="";for(a=0;a<f.length;a+=1)b+=f[a]+" ";o.className=b},b=function(a){var b,e=!1;for(b=0;b<f.length;b+=1)if(a===f[b]){e=!0;break}e?d(a):c(a)},c=function(b){var c,d=!1;for(c=0;c<f.length;c+=1)if(b===f[c]){d=!0;break}d||(f.push(b),a())},d=function(b){var c,d=[];for(c=0;c<f.length;c+=1)b!==f[c]&&d.push(f[c]);f=d,a()},e=function(){f=[],a()},{addClass:c,removeClass:d,toggleClass:b,clear:e}}(),g=function(a){o.id=a},h=function(){return o},i=function(a){o.appendChild(a.getDomElement())},{getDomElement:h,getControlNumber:f,appendControl:i,show:c,hide:d,toggle:e,setOnClick:j,click:k,css:l,setId:g}}}(),wui.controls.app=function(){"use strict";var a=wui.controls.control();return a.css.addClass("wui_position_vbox"),a.css.addClass("wui_position_fullscreen"),a.show=function(){a.getDomElement().style.display=PrefixFree.prefix+"box"},document.addEventListener("touchmove",function(a){a.preventDefault()},!1),a},wui.controls.buttons={},wui.controls.buttons.standard=function(){"use strict";var a=wui.controls.control(),b=wui.controls.control("span");return b.css.addClass("wui_symbol"),a.appendControl(b),a.setText=function(c){var d;c.length>0?(d=document.createTextNode(c),a.getDomElement().innerHTML="",a.getDomElement().appendChild(b.getDomElement()),a.getDomElement().appendChild(d)):(a.getDomElement().innerHTML="",a.getDomElement().appendChild(b.getDomElement()))},a.setSymbol=function(a){b.getDomElement().innerHTML=a},a.css.addClass("wui_controls_button"),a},wui.controls.buttons.add=function(){"use strict";var a=wui.controls.buttons.standard();return a.setSymbol("+"),a.css.addClass("wui_controls_buttons_add"),a},wui.controls.buttons.back=function(){"use strict";var a=wui.controls.buttons.standard();return a.setSymbol("<"),a.css.addClass("wui_controls_buttons_back"),a},wui.controls.buttons.greenLamp=function(){"use strict";var a=wui.controls.buttons.greyLamp();return a.css.addClass("wui_controls_buttons_greenLamp"),a},wui.controls.buttons.greyLamp=function(){"use strict";var a=wui.controls.buttons.standard();return a.css.clear(),a.css.addClass("wui_controls_buttons_greyLamp"),a},wui.controls.buttons.orangeLamp=function(){"use strict";var a=wui.controls.buttons.greyLamp();return a.css.addClass("wui_controls_buttons_orangeLamp"),a},wui.controls.buttons.red=function(){"use strict";var a=wui.controls.buttons.standard();return a.css.addClass("wui_controls_buttons_red"),a},wui.controls.buttons.redLamp=function(){"use strict";var a=wui.controls.buttons.greyLamp();return a.css.addClass("wui_controls_buttons_redLamp"),a},wui.controls.lists={},wui.controls.lists.items={},wui.controls.lists.items.standard=function(a){"use strict";var b,c;return b=wui.controls.control("li"),c=b.getDomElement(),b.setText=function(a){c.innerHTML=a},"undefined"!=typeof a&&b.setText(a),b.setOnClick=function(a){c.onclick=a},b.click=function(){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),c.dispatchEvent(a)},b},wui.controls.lists.items.arrow=function(a){"use strict";var b,c,d,e;return b=wui.controls.control("li"),b.css.addClass("wui_position_hbox"),c=wui.controls.control("div"),c.css.addClass("wui_position_flex"),d=wui.controls.control("div"),d.css.addClass("wui_controls_lists_items_arrow_icon"),e=b.getDomElement(),b.setText=function(a){c.getDomElement().innerHTML=a},"undefined"!=typeof a&&b.setText(a),b.setOnClick=function(a){e.onclick=a},b.click=function(){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),e.dispatchEvent(a)},b.appendControl(c),b.appendControl(d),b},wui.controls.lists.standard=function(){"use strict";var a=wui.controls.control("ul");return a.css.addClass("wui_controls_lists_standard"),a.items=function(){var b=function(b){a.appendControl(b)};return{add:b}}(),a.clear=function(){a.getDomElement().innerHTML=""},a},wui.controls.lists.rounded=function(){"use strict";var a=wui.controls.lists.standard();return a.css.addClass("wui_controls_lists_rounded"),a},wui.controls.menu={},wui.controls.menu.menuBar=function(){"use strict";var a,b=wui.controls.control("nav"),c=[];return b.css.addClass("wui_position_hbox"),b.css.addClass("wui_control_menuBar"),b.setActive=function(b){var d;for(d=0;d<c.length;d+=1)c[d].deselect();b.select(),a=b},b.getActive=function(){return a},b.items=function(){var a=function(a){a.setOnClick(function(){b.setActive(a)}),c.push(a),b.appendControl(a)};return{add:a}}(),b},wui.controls.menu.menuItem=function(){"use strict";var a,b=wui.controls.control("span"),c=wui.controls.control(),d=!1,e="",f="",g=wui.controls.control("a");return b.css.addClass("wui_position_flex"),b.css.addClass("wui_control_menuItem"),c.css.addClass("wui_control_menuItem_icon"),b.setText=function(a){g.getDomElement().innerHTML=a},b.setPanel=function(b){a=b},b.getPanel=function(){return a},b.showPanel=function(){a&&a.show()},b.hidePanel=function(){a&&a.hide()},b.setIconControl=function(a){e=a,d||(c.getDomElement().innerHTML=e)},b.setSelectedIconControl=function(a){f=a},b.select=function(){f.length>1&&(c.getDomElement().innerHTML=f),d=!0,b.css.addClass("wui_control_menuItem_active"),b.showPanel()},b.deselect=function(){c.getDomElement().innerHTML=e,d=!1,b.css.removeClass("wui_control_menuItem_active"),b.hidePanel()},b.show=function(){b.getDomElement().style.display=PrefixFree.prefix+"box"},b.appendControl(c),b.appendControl(g),b},wui.controls.panels={},wui.controls.panels.iscroll=function(){"use strict";var a=wui.controls.control(),b="scroll__"+a.getControlNumber(),c=wui.controls.panels.standard(),d=a.getDomElement();return a.css.addClass("wui_position_flex"),a.setId(b),a.appendControl(c),a.scroll=new iScroll(a.getDomElement(),{onBeforeScrollStart:function(a){for(var b=a.target;1!==b.nodeType;)b=b.parentNode;"SELECT"!==b.tagName&&"INPUT"!==b.tagName&&"TEXTAREA"!==b.tagName&&a.preventDefault()}}),a.setText=function(b){c.setText(b),a.scroll.refresh()},a.appendControl=function(b){c.getDomElement().appendChild(b.getDomElement()),a.scroll.refresh()},a.show=function(){a.getDomElement().style.display="block",a.scroll.refresh()},a.scroll.refresh(),document.addEventListener("touchmove",function(a){a.preventDefault()},!1),a.clear=function(){c.getDomElement().innerHTML="",a.scroll.refresh()},a.getDomElement=function(){return d},a},wui.controls.panels.scroll=function(){"use strict";var a=wui.controls.panels.standard(),b=a.getDomElement();return a.css.addClass("wui_controls_scroll"),b.addEventListener("touchstart",function(a){this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<=this.scrollHeight-this.clientHeight,this.prevTop=null,this.prevBot=null,this.lastY=a.pageY}),b.addEventListener("touchmove",function(a){var b=a.pageY>this.lastY,c=!b;this.lastY=a.pageY,b&&this.allowUp||c&&this.allowDown?a.stopPropagation():a.preventDefault()}),a},wui.controls.panels.standard=function(){"use strict";var a=wui.controls.control();return a.css.addClass("wui_controls_panel"),a.css.addClass("wui_position_vbox"),a.css.addClass("wui_position_flex"),a.setText=function(b){a.getDomElement().innerHTML=b},a.show=function(){a.getDomElement().style.display=PrefixFree.prefix+"box"},a},wui.controls.progress=function(){"use strict";var a=wui.controls.control();return a.setText=function(b){a.getDomElement().innerHTML=b},a.css.addClass("wui_control_progress"),a.hide(),a},wui.controls.titleBar=function(){"use strict";var a=wui.controls.control("header"),b=a.getDomElement(),c=document.createElement("h1");return a.rightContainer=wui.controls.control(),a.leftContainer=wui.controls.control(),c.className="wui_position_flex wui_controls_titleBar_title",a.css.addClass("wui_position_hbox"),a.css.addClass("wui_controls_titleBar"),a.rightContainer.css.addClass("wui_controls_titleBar_rightContainer"),a.leftContainer.css.addClass("wui_controls_titleBar_leftContainer"),a.show=function(){a.getDomElement().style.display=PrefixFree.prefix+"box"},a.setText=function(a){c.innerHTML=a},b.appendChild(a.leftContainer.getDomElement()),b.appendChild(c),b.appendChild(a.rightContainer.getDomElement()),a},wui.controls.toolBar=function(){"use strict";var a=wui.controls.control(),b=a.getDomElement();return a.css.addClass("wui_position_hbox"),a.css.addClass("wui_controls_toolBar"),a.leftContainer=wui.controls.control(),a.middleContainer=wui.controls.control(),a.rightContainer=wui.controls.control(),a.leftContainer.css.addClass("wui_controls_toolBar_container"),a.leftContainer.css.addClass("wui_position_flex"),a.middleContainer.css.addClass("wui_controls_toolBar_container"),a.middleContainer.css.addClass("wui_position_flex"),a.rightContainer.css.addClass("wui_controls_toolBar_container"),a.rightContainer.css.addClass("wui_position_flex"),a.show=function(){a.getDomElement().style.display=PrefixFree.prefix+"box"},b.appendChild(a.leftContainer.getDomElement()),b.appendChild(a.middleContainer.getDomElement()),b.appendChild(a.rightContainer.getDomElement()),a},wui.misc=function(){"use strict";var a,b;return b=function(){var a,b;return a=function(a,b,c){var d=a.slice((c||b)+1||a.length);return a.length=0>b?a.length+b:b,a.push.apply(a,d)},b=function(a,b,c){for(var d,e,f=0,g=a.length-1;g>=f;)if(d=parseInt((f+g)/2,10),e=c(a[d],b),0>e)f=d+1;else{if(!(e>0))return d;g=d-1}return null},{remove:a,binarySearch:b}}(),a=function(){var a,b;return b=function(){var a=[];return function(b,c,d){var e,f,g,h=!1;for(e=0;e<a.length;e+=1)if(a[e]===b){h=!0;break}h?c&&c():(g=document.createElement("script"),g.src=b,g.id=b,g.type="text/javascript",g.onload=function(){c&&(c(),a.push(b))},document.getElementsByTagName("head")[0].appendChild(g),d&&(f=function(){var a=document.getElementById(b);a.parentNode.removeChild(a)},setTimeout(f,d)))}}(),a=function(){var a=0;return function(b,c){var d=a,e=document.createElement("script"),f=b.indexOf("?")>0?"&":"?";window["jsonp"+d]=function(a){c&&c(a)},e.src=b+f+"callback=jsonp"+d,e.type="text/javascript",e.onload=function(){window["jsonp"+d]=void 0,document.getElementsByTagName("head")[0].removeChild(e)},document.getElementsByTagName("head")[0].appendChild(e),a+=1}}(),{loadScript:b,jsonpLoader:a}}(),{script:a,array:b}}();